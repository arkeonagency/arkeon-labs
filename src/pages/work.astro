---
export const prerender = true;

import BaseLayout from '../layouts/BaseLayout.astro';
import Seo from '../components/Seo.jsx';
import CaseStudyCard from '../components/CaseStudyCard.jsx';
import { getCollection } from 'astro:content';

const allWork = await getCollection('case-studies');
---

<BaseLayout>
  <Seo title="Work" description="Selected case studies." />

  <section class="pt-32 pb-20">
    <div class="container mx-auto px-6">
      <h1 class="text-5xl md:text-7xl font-serif font-bold mb-6">Selected Work</h1>
      <p class="text-xl text-arkeon-gray mb-20 border-l-2 border-arkeon-gold pl-6">
        Digital assets that perform.
      </p>

      <div class="grid md:grid-cols-2 gap-10">
        {allWork.map((project) => (
          <CaseStudyCard 
            client:visible
            title={project.data.title}
            category={project.data.service || "Web Design"}
            image={project.data.heroImage}
            href={`/work/${project.slug}`}
          />
        ))}
      </div>
    </div>
  </section>
</BaseLayout>